{"ast":null,"code":"import { DepthCullingState } from \"../../States/depthCullingState.js\";\n/**\n * @internal\n **/\nexport class WebGPUDepthCullingState extends DepthCullingState {\n  /**\n   * Initializes the state.\n   * @param cache\n   */\n  constructor(cache) {\n    super(false);\n    this._cache = cache;\n    this.reset();\n  }\n  get zOffset() {\n    return this._zOffset;\n  }\n  set zOffset(value) {\n    if (this._zOffset === value) {\n      return;\n    }\n    this._zOffset = value;\n    this._isZOffsetDirty = true;\n    this._cache.setDepthBiasSlopeScale(value);\n  }\n  get zOffsetUnits() {\n    return this._zOffsetUnits;\n  }\n  set zOffsetUnits(value) {\n    if (this._zOffsetUnits === value) {\n      return;\n    }\n    this._zOffsetUnits = value;\n    this._isZOffsetDirty = true;\n    this._cache.setDepthBias(value);\n  }\n  get cullFace() {\n    return this._cullFace;\n  }\n  set cullFace(value) {\n    if (this._cullFace === value) {\n      return;\n    }\n    this._cullFace = value;\n    this._isCullFaceDirty = true;\n    this._cache.setCullFace(value !== null && value !== void 0 ? value : 1);\n  }\n  get cull() {\n    return this._cull;\n  }\n  set cull(value) {\n    if (this._cull === value) {\n      return;\n    }\n    this._cull = value;\n    this._isCullDirty = true;\n    this._cache.setCullEnabled(!!value);\n  }\n  get depthFunc() {\n    return this._depthFunc;\n  }\n  set depthFunc(value) {\n    if (this._depthFunc === value) {\n      return;\n    }\n    this._depthFunc = value;\n    this._isDepthFuncDirty = true;\n    this._cache.setDepthCompare(value);\n  }\n  get depthMask() {\n    return this._depthMask;\n  }\n  set depthMask(value) {\n    if (this._depthMask === value) {\n      return;\n    }\n    this._depthMask = value;\n    this._isDepthMaskDirty = true;\n    this._cache.setDepthWriteEnabled(value);\n  }\n  get depthTest() {\n    return this._depthTest;\n  }\n  set depthTest(value) {\n    if (this._depthTest === value) {\n      return;\n    }\n    this._depthTest = value;\n    this._isDepthTestDirty = true;\n    this._cache.setDepthTestEnabled(value);\n  }\n  get frontFace() {\n    return this._frontFace;\n  }\n  set frontFace(value) {\n    if (this._frontFace === value) {\n      return;\n    }\n    this._frontFace = value;\n    this._isFrontFaceDirty = true;\n    this._cache.setFrontFace(value !== null && value !== void 0 ? value : 2);\n  }\n  reset() {\n    super.reset();\n    this._cache.resetDepthCullingState();\n  }\n  apply() {\n    // nothing to do\n  }\n}","map":{"version":3,"mappings":"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","names":["DepthCullingState","WebGPUDepthCullingState","constructor","cache","_cache","reset","zOffset","_zOffset","value","_isZOffsetDirty","setDepthBiasSlopeScale","zOffsetUnits","_zOffsetUnits","setDepthBias","cullFace","_cullFace","_isCullFaceDirty","setCullFace","cull","_cull","_isCullDirty","setCullEnabled","depthFunc","_depthFunc","_isDepthFuncDirty","setDepthCompare","depthMask","_depthMask","_isDepthMaskDirty","setDepthWriteEnabled","depthTest","_depthTest","_isDepthTestDirty","setDepthTestEnabled","frontFace","_frontFace","_isFrontFaceDirty","setFrontFace","resetDepthCullingState","apply"],"sourceRoot":"","sources":["../../../../../lts/core/generated/Engines/WebGPU/webgpuDepthCullingState.ts"],"sourcesContent":["import type { Nullable } from \"../../types\";\r\nimport type { WebGPUCacheRenderPipeline } from \"./webgpuCacheRenderPipeline\";\r\nimport { DepthCullingState } from \"../../States/depthCullingState\";\r\n\r\n/**\r\n * @internal\r\n **/\r\nexport class WebGPUDepthCullingState extends DepthCullingState {\r\n    private _cache: WebGPUCacheRenderPipeline;\r\n\r\n    /**\r\n     * Initializes the state.\r\n     * @param cache\r\n     */\r\n    public constructor(cache: WebGPUCacheRenderPipeline) {\r\n        super(false);\r\n        this._cache = cache;\r\n        this.reset();\r\n    }\r\n\r\n    public get zOffset(): number {\r\n        return this._zOffset;\r\n    }\r\n\r\n    public set zOffset(value: number) {\r\n        if (this._zOffset === value) {\r\n            return;\r\n        }\r\n\r\n        this._zOffset = value;\r\n        this._isZOffsetDirty = true;\r\n        this._cache.setDepthBiasSlopeScale(value);\r\n    }\r\n\r\n    public get zOffsetUnits(): number {\r\n        return this._zOffsetUnits;\r\n    }\r\n\r\n    public set zOffsetUnits(value: number) {\r\n        if (this._zOffsetUnits === value) {\r\n            return;\r\n        }\r\n\r\n        this._zOffsetUnits = value;\r\n        this._isZOffsetDirty = true;\r\n        this._cache.setDepthBias(value);\r\n    }\r\n\r\n    public get cullFace(): Nullable<number> {\r\n        return this._cullFace;\r\n    }\r\n\r\n    public set cullFace(value: Nullable<number>) {\r\n        if (this._cullFace === value) {\r\n            return;\r\n        }\r\n\r\n        this._cullFace = value;\r\n        this._isCullFaceDirty = true;\r\n        this._cache.setCullFace(value ?? 1);\r\n    }\r\n\r\n    public get cull(): Nullable<boolean> {\r\n        return this._cull;\r\n    }\r\n\r\n    public set cull(value: Nullable<boolean>) {\r\n        if (this._cull === value) {\r\n            return;\r\n        }\r\n\r\n        this._cull = value;\r\n        this._isCullDirty = true;\r\n        this._cache.setCullEnabled(!!value);\r\n    }\r\n\r\n    public get depthFunc(): Nullable<number> {\r\n        return this._depthFunc;\r\n    }\r\n\r\n    public set depthFunc(value: Nullable<number>) {\r\n        if (this._depthFunc === value) {\r\n            return;\r\n        }\r\n\r\n        this._depthFunc = value;\r\n        this._isDepthFuncDirty = true;\r\n        this._cache.setDepthCompare(value);\r\n    }\r\n\r\n    public get depthMask(): boolean {\r\n        return this._depthMask;\r\n    }\r\n\r\n    public set depthMask(value: boolean) {\r\n        if (this._depthMask === value) {\r\n            return;\r\n        }\r\n\r\n        this._depthMask = value;\r\n        this._isDepthMaskDirty = true;\r\n        this._cache.setDepthWriteEnabled(value);\r\n    }\r\n\r\n    public get depthTest(): boolean {\r\n        return this._depthTest;\r\n    }\r\n\r\n    public set depthTest(value: boolean) {\r\n        if (this._depthTest === value) {\r\n            return;\r\n        }\r\n\r\n        this._depthTest = value;\r\n        this._isDepthTestDirty = true;\r\n        this._cache.setDepthTestEnabled(value);\r\n    }\r\n\r\n    public get frontFace(): Nullable<number> {\r\n        return this._frontFace;\r\n    }\r\n\r\n    public set frontFace(value: Nullable<number>) {\r\n        if (this._frontFace === value) {\r\n            return;\r\n        }\r\n\r\n        this._frontFace = value;\r\n        this._isFrontFaceDirty = true;\r\n        this._cache.setFrontFace(value ?? 2);\r\n    }\r\n\r\n    public reset() {\r\n        super.reset();\r\n        this._cache.resetDepthCullingState();\r\n    }\r\n\r\n    public apply() {\r\n        // nothing to do\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}