{"ast":null,"code":"import { ShaderLanguage } from \"../../Materials/shaderLanguage.js\";\n/** @internal */\nexport class WebGLShaderProcessor {\n  constructor() {\n    this.shaderLanguage = ShaderLanguage.GLSL;\n  }\n  postProcessor(code, defines, isFragment, processingContext, engine) {\n    // Remove extensions\n    if (!engine.getCaps().drawBuffersExtension) {\n      // even if enclosed in #if/#endif, IE11 does parse the #extension declaration, so we need to remove it altogether\n      const regex = /#extension.+GL_EXT_draw_buffers.+(enable|require)/g;\n      code = code.replace(regex, \"\");\n    }\n    return code;\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,cAAc,QAAQ,mCAAiC;AAOhE;AACA,OAAM,MAAOC,oBAAoB;EAAjCC;IACW,mBAAc,GAAGF,cAAc,CAACG,IAAI;EAY/C;EAVWC,aAAa,CAACC,IAAY,EAAEC,OAAiB,EAAEC,UAAmB,EAAEC,iBAAoD,EAAEC,MAAkB;IAC/I;IACA,IAAI,CAACA,MAAM,CAACC,OAAO,EAAE,CAACC,oBAAoB,EAAE;MACxC;MACA,MAAMC,KAAK,GAAG,oDAAoD;MAClEP,IAAI,GAAGA,IAAI,CAACQ,OAAO,CAACD,KAAK,EAAE,EAAE,CAAC;;IAGlC,OAAOP,IAAI;EACf","names":["ShaderLanguage","WebGLShaderProcessor","constructor","GLSL","postProcessor","code","defines","isFragment","processingContext","engine","getCaps","drawBuffersExtension","regex","replace"],"sourceRoot":"","sources":["../../../../../lts/core/generated/Engines/WebGL/webGLShaderProcessors.ts"],"sourcesContent":["import { ShaderLanguage } from \"../../Materials/shaderLanguage\";\r\nimport type { Nullable } from \"../../types\";\r\nimport type { IShaderProcessor } from \"../Processors/iShaderProcessor\";\r\nimport type { ShaderProcessingContext } from \"../Processors/shaderProcessingOptions\";\r\n\r\ndeclare type ThinEngine = import(\"../thinEngine\").ThinEngine;\r\n\r\n/** @internal */\r\nexport class WebGLShaderProcessor implements IShaderProcessor {\r\n    public shaderLanguage = ShaderLanguage.GLSL;\r\n\r\n    public postProcessor(code: string, defines: string[], isFragment: boolean, processingContext: Nullable<ShaderProcessingContext>, engine: ThinEngine) {\r\n        // Remove extensions\r\n        if (!engine.getCaps().drawBuffersExtension) {\r\n            // even if enclosed in #if/#endif, IE11 does parse the #extension declaration, so we need to remove it altogether\r\n            const regex = /#extension.+GL_EXT_draw_buffers.+(enable|require)/g;\r\n            code = code.replace(regex, \"\");\r\n        }\r\n\r\n        return code;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}