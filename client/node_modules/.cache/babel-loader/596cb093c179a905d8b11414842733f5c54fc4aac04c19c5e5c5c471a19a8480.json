{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { NodeMaterialBlock } from \"../nodeMaterialBlock.js\";\nimport { NodeMaterialBlockConnectionPointTypes } from \"../Enums/nodeMaterialBlockConnectionPointTypes.js\";\nimport { NodeMaterialBlockTargets } from \"../Enums/nodeMaterialBlockTargets.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\nimport { Color3 } from \"../../../Maths/math.color.js\";\nimport { Observable } from \"../../../Misc/observable.js\";\n/**\n * Class used to store a color step for the GradientBlock\n */\nexport class GradientBlockColorStep {\n  /**\n   * Creates a new GradientBlockColorStep\n   * @param step defines a value indicating which step this color is associated with (between 0 and 1)\n   * @param color defines the color associated with this step\n   */\n  constructor(step, color) {\n    this.step = step;\n    this.color = color;\n  }\n  /**\n   * Gets value indicating which step this color is associated with (between 0 and 1)\n   */\n  get step() {\n    return this._step;\n  }\n  /**\n   * Sets a value indicating which step this color is associated with (between 0 and 1)\n   */\n  set step(val) {\n    this._step = val;\n  }\n  /**\n   * Gets the color associated with this step\n   */\n  get color() {\n    return this._color;\n  }\n  /**\n   * Sets the color associated with this step\n   */\n  set color(val) {\n    this._color = val;\n  }\n}\n/**\n * Block used to return a color from a gradient based on an input value between 0 and 1\n */\nexport class GradientBlock extends NodeMaterialBlock {\n  /**\n   * Creates a new GradientBlock\n   * @param name defines the block name\n   */\n  constructor(name) {\n    super(name, NodeMaterialBlockTargets.Neutral);\n    /**\n     * Gets or sets the list of color steps\n     */\n    this.colorSteps = [new GradientBlockColorStep(0, Color3.Black()), new GradientBlockColorStep(1.0, Color3.White())];\n    /** Gets an observable raised when the value is changed */\n    this.onValueChangedObservable = new Observable();\n    this.registerInput(\"gradient\", NodeMaterialBlockConnectionPointTypes.AutoDetect);\n    this.registerOutput(\"output\", NodeMaterialBlockConnectionPointTypes.Color3);\n    this._inputs[0].addExcludedConnectionPointFromAllowedTypes(NodeMaterialBlockConnectionPointTypes.Float | NodeMaterialBlockConnectionPointTypes.Vector2 | NodeMaterialBlockConnectionPointTypes.Vector3 | NodeMaterialBlockConnectionPointTypes.Vector4 | NodeMaterialBlockConnectionPointTypes.Color3 | NodeMaterialBlockConnectionPointTypes.Color4);\n  }\n  /** calls observable when the value is changed*/\n  colorStepsUpdated() {\n    this.onValueChangedObservable.notifyObservers(this);\n  }\n  /**\n   * Gets the current class name\n   * @returns the class name\n   */\n  getClassName() {\n    return \"GradientBlock\";\n  }\n  /**\n   * Gets the gradient input component\n   */\n  get gradient() {\n    return this._inputs[0];\n  }\n  /**\n   * Gets the output component\n   */\n  get output() {\n    return this._outputs[0];\n  }\n  _writeColorConstant(index) {\n    const step = this.colorSteps[index];\n    return `vec3(${step.color.r}, ${step.color.g}, ${step.color.b})`;\n  }\n  _buildBlock(state) {\n    super._buildBlock(state);\n    const output = this._outputs[0];\n    if (!this.colorSteps.length || !this.gradient.connectedPoint) {\n      state.compilationString += this._declareOutput(output, state) + ` = vec3(0., 0., 0.);\\r\\n`;\n      return;\n    }\n    const tempColor = state._getFreeVariableName(\"gradientTempColor\");\n    const tempPosition = state._getFreeVariableName(\"gradientTempPosition\");\n    state.compilationString += `vec3 ${tempColor} = ${this._writeColorConstant(0)};\\r\\n`;\n    state.compilationString += `float ${tempPosition};\\r\\n`;\n    let gradientSource = this.gradient.associatedVariableName;\n    if (this.gradient.connectedPoint.type !== NodeMaterialBlockConnectionPointTypes.Float) {\n      gradientSource += \".x\";\n    }\n    for (let index = 1; index < this.colorSteps.length; index++) {\n      const step = this.colorSteps[index];\n      const previousStep = this.colorSteps[index - 1];\n      state.compilationString += `${tempPosition} = clamp((${gradientSource} - ${state._emitFloat(previousStep.step)}) / (${state._emitFloat(step.step)} -  ${state._emitFloat(previousStep.step)}), 0.0, 1.0) * step(${state._emitFloat(index)}, ${state._emitFloat(this.colorSteps.length - 1)});\\r\\n`;\n      state.compilationString += `${tempColor} = mix(${tempColor}, ${this._writeColorConstant(index)}, ${tempPosition});\\r\\n`;\n    }\n    state.compilationString += this._declareOutput(output, state) + ` = ${tempColor};\\r\\n`;\n    return this;\n  }\n  serialize() {\n    const serializationObject = super.serialize();\n    serializationObject.colorSteps = [];\n    for (const step of this.colorSteps) {\n      serializationObject.colorSteps.push({\n        step: step.step,\n        color: {\n          r: step.color.r,\n          g: step.color.g,\n          b: step.color.b\n        }\n      });\n    }\n    return serializationObject;\n  }\n  _deserialize(serializationObject, scene, rootUrl) {\n    super._deserialize(serializationObject, scene, rootUrl);\n    this.colorSteps.length = 0;\n    for (const step of serializationObject.colorSteps) {\n      this.colorSteps.push(new GradientBlockColorStep(step.step, new Color3(step.color.r, step.color.g, step.color.b)));\n    }\n  }\n  _dumpPropertiesCode() {\n    let codeString = super._dumpPropertiesCode();\n    codeString += `${this._codeVariableName}.colorSteps = [];\\r\\n`;\n    for (const colorStep of this.colorSteps) {\n      codeString += `${this._codeVariableName}.colorSteps.push(new BABYLON.GradientBlockColorStep(${colorStep.step}, new BABYLON.Color3(${colorStep.color.r}, ${colorStep.color.g}, ${colorStep.color.b})));\\r\\n`;\n    }\n    return codeString;\n  }\n}\nRegisterClass(\"BABYLON.GradientBlock\", GradientBlock);","map":{"version":3,"mappings":"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","names":["NodeMaterialBlock","NodeMaterialBlockConnectionPointTypes","NodeMaterialBlockTargets","RegisterClass","Color3","Observable","GradientBlockColorStep","constructor","step","color","_step","val","_color","GradientBlock","name","Neutral","Black","White","registerInput","AutoDetect","registerOutput","_inputs","addExcludedConnectionPointFromAllowedTypes","Float","Vector2","Vector3","Vector4","Color4","colorStepsUpdated","onValueChangedObservable","notifyObservers","getClassName","gradient","output","_outputs","_writeColorConstant","index","colorSteps","r","g","b","_buildBlock","state","length","connectedPoint","compilationString","_declareOutput","tempColor","_getFreeVariableName","tempPosition","gradientSource","associatedVariableName","type","previousStep","_emitFloat","serialize","serializationObject","push","_deserialize","scene","rootUrl","_dumpPropertiesCode","codeString","_codeVariableName","colorStep"],"sourceRoot":"","sources":["../../../../../../lts/core/generated/Materials/Node/Blocks/gradientBlock.ts"],"sourcesContent":["import { NodeMaterialBlock } from \"../nodeMaterialBlock\";\r\nimport { NodeMaterialBlockConnectionPointTypes } from \"../Enums/nodeMaterialBlockConnectionPointTypes\";\r\nimport type { NodeMaterialBuildState } from \"../nodeMaterialBuildState\";\r\nimport type { NodeMaterialConnectionPoint } from \"../nodeMaterialBlockConnectionPoint\";\r\nimport { NodeMaterialBlockTargets } from \"../Enums/nodeMaterialBlockTargets\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { Color3 } from \"../../../Maths/math.color\";\r\nimport type { Scene } from \"../../../scene\";\r\nimport { Observable } from \"../../../Misc/observable\";\r\n\r\n/**\r\n * Class used to store a color step for the GradientBlock\r\n */\r\nexport class GradientBlockColorStep {\r\n    private _step: number;\r\n    /**\r\n     * Gets value indicating which step this color is associated with (between 0 and 1)\r\n     */\r\n    public get step(): number {\r\n        return this._step;\r\n    }\r\n\r\n    /**\r\n     * Sets a value indicating which step this color is associated with (between 0 and 1)\r\n     */\r\n    public set step(val: number) {\r\n        this._step = val;\r\n    }\r\n\r\n    private _color: Color3;\r\n\r\n    /**\r\n     * Gets the color associated with this step\r\n     */\r\n    public get color(): Color3 {\r\n        return this._color;\r\n    }\r\n\r\n    /**\r\n     * Sets the color associated with this step\r\n     */\r\n    public set color(val: Color3) {\r\n        this._color = val;\r\n    }\r\n\r\n    /**\r\n     * Creates a new GradientBlockColorStep\r\n     * @param step defines a value indicating which step this color is associated with (between 0 and 1)\r\n     * @param color defines the color associated with this step\r\n     */\r\n    public constructor(step: number, color: Color3) {\r\n        this.step = step;\r\n        this.color = color;\r\n    }\r\n}\r\n\r\n/**\r\n * Block used to return a color from a gradient based on an input value between 0 and 1\r\n */\r\nexport class GradientBlock extends NodeMaterialBlock {\r\n    /**\r\n     * Gets or sets the list of color steps\r\n     */\r\n    public colorSteps: GradientBlockColorStep[] = [new GradientBlockColorStep(0, Color3.Black()), new GradientBlockColorStep(1.0, Color3.White())];\r\n\r\n    /** Gets an observable raised when the value is changed */\r\n    public onValueChangedObservable = new Observable<GradientBlock>();\r\n\r\n    /** calls observable when the value is changed*/\r\n    public colorStepsUpdated() {\r\n        this.onValueChangedObservable.notifyObservers(this);\r\n    }\r\n    /**\r\n     * Creates a new GradientBlock\r\n     * @param name defines the block name\r\n     */\r\n    public constructor(name: string) {\r\n        super(name, NodeMaterialBlockTargets.Neutral);\r\n\r\n        this.registerInput(\"gradient\", NodeMaterialBlockConnectionPointTypes.AutoDetect);\r\n        this.registerOutput(\"output\", NodeMaterialBlockConnectionPointTypes.Color3);\r\n\r\n        this._inputs[0].addExcludedConnectionPointFromAllowedTypes(\r\n            NodeMaterialBlockConnectionPointTypes.Float |\r\n                NodeMaterialBlockConnectionPointTypes.Vector2 |\r\n                NodeMaterialBlockConnectionPointTypes.Vector3 |\r\n                NodeMaterialBlockConnectionPointTypes.Vector4 |\r\n                NodeMaterialBlockConnectionPointTypes.Color3 |\r\n                NodeMaterialBlockConnectionPointTypes.Color4\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets the current class name\r\n     * @returns the class name\r\n     */\r\n    public getClassName() {\r\n        return \"GradientBlock\";\r\n    }\r\n\r\n    /**\r\n     * Gets the gradient input component\r\n     */\r\n    public get gradient(): NodeMaterialConnectionPoint {\r\n        return this._inputs[0];\r\n    }\r\n\r\n    /**\r\n     * Gets the output component\r\n     */\r\n    public get output(): NodeMaterialConnectionPoint {\r\n        return this._outputs[0];\r\n    }\r\n\r\n    private _writeColorConstant(index: number) {\r\n        const step = this.colorSteps[index];\r\n        return `vec3(${step.color.r}, ${step.color.g}, ${step.color.b})`;\r\n    }\r\n\r\n    protected _buildBlock(state: NodeMaterialBuildState) {\r\n        super._buildBlock(state);\r\n\r\n        const output = this._outputs[0];\r\n\r\n        if (!this.colorSteps.length || !this.gradient.connectedPoint) {\r\n            state.compilationString += this._declareOutput(output, state) + ` = vec3(0., 0., 0.);\\r\\n`;\r\n            return;\r\n        }\r\n\r\n        const tempColor = state._getFreeVariableName(\"gradientTempColor\");\r\n        const tempPosition = state._getFreeVariableName(\"gradientTempPosition\");\r\n\r\n        state.compilationString += `vec3 ${tempColor} = ${this._writeColorConstant(0)};\\r\\n`;\r\n        state.compilationString += `float ${tempPosition};\\r\\n`;\r\n\r\n        let gradientSource = this.gradient.associatedVariableName;\r\n\r\n        if (this.gradient.connectedPoint!.type !== NodeMaterialBlockConnectionPointTypes.Float) {\r\n            gradientSource += \".x\";\r\n        }\r\n\r\n        for (let index = 1; index < this.colorSteps.length; index++) {\r\n            const step = this.colorSteps[index];\r\n            const previousStep = this.colorSteps[index - 1];\r\n            state.compilationString += `${tempPosition} = clamp((${gradientSource} - ${state._emitFloat(previousStep.step)}) / (${state._emitFloat(\r\n                step.step\r\n            )} -  ${state._emitFloat(previousStep.step)}), 0.0, 1.0) * step(${state._emitFloat(index)}, ${state._emitFloat(this.colorSteps.length - 1)});\\r\\n`;\r\n            state.compilationString += `${tempColor} = mix(${tempColor}, ${this._writeColorConstant(index)}, ${tempPosition});\\r\\n`;\r\n        }\r\n        state.compilationString += this._declareOutput(output, state) + ` = ${tempColor};\\r\\n`;\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): any {\r\n        const serializationObject = super.serialize();\r\n\r\n        serializationObject.colorSteps = [];\r\n\r\n        for (const step of this.colorSteps) {\r\n            serializationObject.colorSteps.push({\r\n                step: step.step,\r\n                color: {\r\n                    r: step.color.r,\r\n                    g: step.color.g,\r\n                    b: step.color.b,\r\n                },\r\n            });\r\n        }\r\n\r\n        return serializationObject;\r\n    }\r\n\r\n    public _deserialize(serializationObject: any, scene: Scene, rootUrl: string) {\r\n        super._deserialize(serializationObject, scene, rootUrl);\r\n\r\n        this.colorSteps.length = 0;\r\n\r\n        for (const step of serializationObject.colorSteps) {\r\n            this.colorSteps.push(new GradientBlockColorStep(step.step, new Color3(step.color.r, step.color.g, step.color.b)));\r\n        }\r\n    }\r\n\r\n    protected _dumpPropertiesCode() {\r\n        let codeString = super._dumpPropertiesCode();\r\n\r\n        codeString += `${this._codeVariableName}.colorSteps = [];\\r\\n`;\r\n\r\n        for (const colorStep of this.colorSteps) {\r\n            codeString += `${this._codeVariableName}.colorSteps.push(new BABYLON.GradientBlockColorStep(${colorStep.step}, new BABYLON.Color3(${colorStep.color.r}, ${colorStep.color.g}, ${colorStep.color.b})));\\r\\n`;\r\n        }\r\n\r\n        return codeString;\r\n    }\r\n}\r\n\r\nRegisterClass(\"BABYLON.GradientBlock\", GradientBlock);\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}