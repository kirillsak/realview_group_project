{"ast":null,"code":"// Do not edit.\nimport { ShaderStore } from \"../../Engines/shaderStore.js\";\nconst name = \"pbrDirectLightingSetupFunctions\";\nconst shader = `struct preLightingInfo\n{\nvec3 lightOffset;\nfloat lightDistanceSquared;\nfloat lightDistance;\nfloat attenuation;\nvec3 L;\nvec3 H;\nfloat NdotV;\nfloat NdotLUnclamped;\nfloat NdotL;\nfloat VdotH;\nfloat roughness;\n#ifdef IRIDESCENCE\nfloat iridescenceIntensity;\n#endif\n};\npreLightingInfo computePointAndSpotPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.lightOffset=lightData.xyz-vPositionW;\nresult.lightDistanceSquared=dot(result.lightOffset,result.lightOffset);\nresult.lightDistance=sqrt(result.lightDistanceSquared);\nresult.L=normalize(result.lightOffset);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeDirectionalPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.lightDistance=length(-lightData.xyz);\nresult.L=normalize(-lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeHemisphericPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.NdotL=dot(N,lightData.xyz)*0.5+0.5;\nresult.NdotL=saturateEps(result.NdotL);\nresult.NdotLUnclamped=result.NdotL;\n#ifdef SPECULARTERM\nresult.L=normalize(lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\n#endif\nreturn result;\n}`;\n// Sideeffect\nShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nexport const pbrDirectLightingSetupFunctions = {\n  name,\n  shader\n};","map":{"version":3,"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,8BAA4B;AAExD,MAAMC,IAAI,GAAG,iCAAiC;AAC9C,MAAMC,MAAM,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAkDb;AACF;AACAF,WAAW,CAACG,oBAAoB,CAACF,IAAI,CAAC,GAAGC,MAAM;AAC/C;AACA,OAAO,MAAME,+BAA+B,GAAG;EAAEH,IAAI;EAAEC;AAAM,CAAE","names":["ShaderStore","name","shader","IncludesShadersStore","pbrDirectLightingSetupFunctions"],"sourceRoot":"","sources":["../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts"],"sourcesContent":["// Do not edit.\nimport { ShaderStore } from \"../../Engines/shaderStore\";\n\nconst name = \"pbrDirectLightingSetupFunctions\";\nconst shader = `struct preLightingInfo\r{\rvec3 lightOffset;\rfloat lightDistanceSquared;\rfloat lightDistance;\rfloat attenuation;\rvec3 L;\rvec3 H;\rfloat NdotV;\rfloat NdotLUnclamped;\rfloat NdotL;\rfloat VdotH;\rfloat roughness;\r#ifdef IRIDESCENCE\nfloat iridescenceIntensity;\r#endif\n};\rpreLightingInfo computePointAndSpotPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.lightOffset=lightData.xyz-vPositionW;\rresult.lightDistanceSquared=dot(result.lightOffset,result.lightOffset);\rresult.lightDistance=sqrt(result.lightDistanceSquared);\rresult.L=normalize(result.lightOffset);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\rresult.NdotLUnclamped=dot(N,result.L);\rresult.NdotL=saturateEps(result.NdotLUnclamped);\rreturn result;\r}\rpreLightingInfo computeDirectionalPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.lightDistance=length(-lightData.xyz);\rresult.L=normalize(-lightData.xyz);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\rresult.NdotLUnclamped=dot(N,result.L);\rresult.NdotL=saturateEps(result.NdotLUnclamped);\rreturn result;\r}\rpreLightingInfo computeHemisphericPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.NdotL=dot(N,lightData.xyz)*0.5+0.5;\rresult.NdotL=saturateEps(result.NdotL);\rresult.NdotLUnclamped=result.NdotL;\r#ifdef SPECULARTERM\nresult.L=normalize(lightData.xyz);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\r#endif\nreturn result;\r}`;\n// Sideeffect\nShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nexport const pbrDirectLightingSetupFunctions = { name, shader };\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}