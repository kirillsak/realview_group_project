{"ast":null,"code":"const _maxGroups = 4;\nconst _maxBindingsPerGroup = 1 << 16;\n// all types not listed are assumed to consume 1 location\nconst _typeToLocationSize = {\n  // GLSL types\n  mat2: 2,\n  mat3: 3,\n  mat4: 4,\n  // WGSL types\n  mat2x2: 2,\n  mat3x3: 3,\n  mat4x4: 4\n};\n/**\n * @internal\n */\nexport class WebGPUShaderProcessingContext {\n  constructor(shaderLanguage) {\n    this.shaderLanguage = shaderLanguage;\n    this._attributeNextLocation = 0;\n    this._varyingNextLocation = 0;\n    this.freeGroupIndex = 0;\n    this.freeBindingIndex = 0;\n    this.availableVaryings = {};\n    this.availableAttributes = {};\n    this.availableBuffers = {};\n    this.availableTextures = {};\n    this.availableSamplers = {};\n    this.orderedAttributes = [];\n    this.bindGroupLayoutEntries = [];\n    this.bindGroupLayoutEntryInfo = [];\n    this.bindGroupEntries = [];\n    this.bufferNames = [];\n    this.textureNames = [];\n    this.samplerNames = [];\n    this.leftOverUniforms = [];\n    this._findStartingGroupBinding();\n  }\n  static get KnownUBOs() {\n    return WebGPUShaderProcessingContext._SimplifiedKnownBindings ? WebGPUShaderProcessingContext._SimplifiedKnownUBOs : WebGPUShaderProcessingContext._KnownUBOs;\n  }\n  _findStartingGroupBinding() {\n    const knownUBOs = WebGPUShaderProcessingContext.KnownUBOs;\n    const groups = [];\n    for (const name in knownUBOs) {\n      const binding = knownUBOs[name].binding;\n      if (binding.groupIndex === -1) {\n        continue;\n      }\n      if (groups[binding.groupIndex] === undefined) {\n        groups[binding.groupIndex] = binding.bindingIndex;\n      } else {\n        groups[binding.groupIndex] = Math.max(groups[binding.groupIndex], binding.bindingIndex);\n      }\n    }\n    this.freeGroupIndex = groups.length - 1;\n    if (this.freeGroupIndex === 0) {\n      this.freeGroupIndex++;\n      this.freeBindingIndex = 0;\n    } else {\n      this.freeBindingIndex = groups[groups.length - 1] + 1;\n    }\n  }\n  getAttributeNextLocation(dataType, arrayLength = 0) {\n    var _a;\n    const index = this._attributeNextLocation;\n    this._attributeNextLocation += ((_a = _typeToLocationSize[dataType]) !== null && _a !== void 0 ? _a : 1) * (arrayLength || 1);\n    return index;\n  }\n  getVaryingNextLocation(dataType, arrayLength = 0) {\n    var _a;\n    const index = this._varyingNextLocation;\n    this._varyingNextLocation += ((_a = _typeToLocationSize[dataType]) !== null && _a !== void 0 ? _a : 1) * (arrayLength || 1);\n    return index;\n  }\n  getNextFreeUBOBinding() {\n    return this._getNextFreeBinding(1);\n  }\n  _getNextFreeBinding(bindingCount) {\n    if (this.freeBindingIndex > _maxBindingsPerGroup - bindingCount) {\n      this.freeGroupIndex++;\n      this.freeBindingIndex = 0;\n    }\n    if (this.freeGroupIndex === _maxGroups) {\n      throw \"Too many textures or UBOs have been declared and it is not supported in WebGPU.\";\n    }\n    const returnValue = {\n      groupIndex: this.freeGroupIndex,\n      bindingIndex: this.freeBindingIndex\n    };\n    this.freeBindingIndex += bindingCount;\n    return returnValue;\n  }\n}\n/** @internal */\nWebGPUShaderProcessingContext._SimplifiedKnownBindings = true; // if true, use only group=0,binding=0 as a known group/binding for the Scene ubo and use group=1,binding=X for all other bindings\n// if false, see _KnownUBOs for the known groups/bindings used\nWebGPUShaderProcessingContext._SimplifiedKnownUBOs = {\n  Scene: {\n    binding: {\n      groupIndex: 0,\n      bindingIndex: 0\n    }\n  },\n  Light0: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light1: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light2: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light3: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light4: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light5: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light6: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light7: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light8: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light9: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light10: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light11: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light12: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light13: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light14: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light15: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light16: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light17: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light18: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light19: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light20: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light21: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light22: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light23: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light24: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light25: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light26: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light27: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light28: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light29: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light30: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Light31: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Material: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Mesh: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  },\n  Internals: {\n    binding: {\n      groupIndex: -1,\n      bindingIndex: -1\n    }\n  }\n};\nWebGPUShaderProcessingContext._KnownUBOs = {\n  Scene: {\n    binding: {\n      groupIndex: 0,\n      bindingIndex: 0\n    }\n  },\n  Light0: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 0\n    }\n  },\n  Light1: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 1\n    }\n  },\n  Light2: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 2\n    }\n  },\n  Light3: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 3\n    }\n  },\n  Light4: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 4\n    }\n  },\n  Light5: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 5\n    }\n  },\n  Light6: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 6\n    }\n  },\n  Light7: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 7\n    }\n  },\n  Light8: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 8\n    }\n  },\n  Light9: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 9\n    }\n  },\n  Light10: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 10\n    }\n  },\n  Light11: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 11\n    }\n  },\n  Light12: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 12\n    }\n  },\n  Light13: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 13\n    }\n  },\n  Light14: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 14\n    }\n  },\n  Light15: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 15\n    }\n  },\n  Light16: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 16\n    }\n  },\n  Light17: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 17\n    }\n  },\n  Light18: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 18\n    }\n  },\n  Light19: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 19\n    }\n  },\n  Light20: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 20\n    }\n  },\n  Light21: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 21\n    }\n  },\n  Light22: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 22\n    }\n  },\n  Light23: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 23\n    }\n  },\n  Light24: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 24\n    }\n  },\n  Light25: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 25\n    }\n  },\n  Light26: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 26\n    }\n  },\n  Light27: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 27\n    }\n  },\n  Light28: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 28\n    }\n  },\n  Light29: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 29\n    }\n  },\n  Light30: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 30\n    }\n  },\n  Light31: {\n    binding: {\n      groupIndex: 1,\n      bindingIndex: 31\n    }\n  },\n  Material: {\n    binding: {\n      groupIndex: 2,\n      bindingIndex: 0\n    }\n  },\n  Mesh: {\n    binding: {\n      groupIndex: 2,\n      bindingIndex: 1\n    }\n  },\n  Internals: {\n    binding: {\n      groupIndex: 2,\n      bindingIndex: 2\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["_maxGroups","_maxBindingsPerGroup","_typeToLocationSize","mat2","mat3","mat4","mat2x2","mat3x3","mat4x4","WebGPUShaderProcessingContext","constructor","shaderLanguage","_attributeNextLocation","_varyingNextLocation","freeGroupIndex","freeBindingIndex","availableVaryings","availableAttributes","availableBuffers","availableTextures","availableSamplers","orderedAttributes","bindGroupLayoutEntries","bindGroupLayoutEntryInfo","bindGroupEntries","bufferNames","textureNames","samplerNames","leftOverUniforms","_findStartingGroupBinding","KnownUBOs","_SimplifiedKnownBindings","_SimplifiedKnownUBOs","_KnownUBOs","knownUBOs","groups","name","binding","groupIndex","undefined","bindingIndex","Math","max","length","getAttributeNextLocation","dataType","arrayLength","index","getVaryingNextLocation","getNextFreeUBOBinding","_getNextFreeBinding","bindingCount","returnValue","Scene","Light0","Light1","Light2","Light3","Light4","Light5","Light6","Light7","Light8","Light9","Light10","Light11","Light12","Light13","Light14","Light15","Light16","Light17","Light18","Light19","Light20","Light21","Light22","Light23","Light24","Light25","Light26","Light27","Light28","Light29","Light30","Light31","Material","Mesh","Internals"],"sourceRoot":"","sources":["../../../../../lts/core/generated/Engines/WebGPU/webgpuShaderProcessingContext.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\r\nimport type { ShaderLanguage } from \"../../Materials/shaderLanguage\";\r\nimport type { ShaderProcessingContext } from \"../Processors/shaderProcessingOptions\";\r\n\r\nconst _maxGroups = 4;\r\nconst _maxBindingsPerGroup = 1 << 16;\r\n\r\n// all types not listed are assumed to consume 1 location\r\nconst _typeToLocationSize: { [key: string]: number } = {\r\n    // GLSL types\r\n    mat2: 2,\r\n    mat3: 3,\r\n    mat4: 4,\r\n\r\n    // WGSL types\r\n    mat2x2: 2,\r\n    mat3x3: 3,\r\n    mat4x4: 4,\r\n};\r\n\r\n/** @internal */\r\nexport interface WebGPUBindingInfo {\r\n    groupIndex: number;\r\n    bindingIndex: number;\r\n}\r\n\r\n/** @internal */\r\nexport interface WebGPUTextureDescription {\r\n    autoBindSampler?: boolean;\r\n    isTextureArray: boolean;\r\n    isStorageTexture: boolean;\r\n    textures: Array<WebGPUBindingInfo>;\r\n    sampleType?: GPUTextureSampleType; // not used if the texture is a storage texture\r\n}\r\n\r\n/** @internal */\r\nexport interface WebGPUSamplerDescription {\r\n    binding: WebGPUBindingInfo;\r\n    type: GPUSamplerBindingType;\r\n}\r\n\r\n/** @internal */\r\nexport interface WebGPUBufferDescription {\r\n    binding: WebGPUBindingInfo;\r\n}\r\n\r\n/** @internal */\r\nexport interface WebGPUBindGroupLayoutEntryInfo {\r\n    name: string;\r\n    index: number; // index of the entry (GPUBindGroupLayoutEntry) in the bindGroupLayoutEntries[group] array\r\n    nameInArrayOfTexture?: string; // something like texture0, texture1, ... if texture is an array, else same thing as \"name\"\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport class WebGPUShaderProcessingContext implements ShaderProcessingContext {\r\n    /** @internal */\r\n    public static _SimplifiedKnownBindings = true; // if true, use only group=0,binding=0 as a known group/binding for the Scene ubo and use group=1,binding=X for all other bindings\r\n    // if false, see _KnownUBOs for the known groups/bindings used\r\n\r\n    protected static _SimplifiedKnownUBOs: { [key: string]: WebGPUBufferDescription } = {\r\n        Scene: { binding: { groupIndex: 0, bindingIndex: 0 } },\r\n        Light0: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light1: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light2: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light3: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light4: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light5: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light6: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light7: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light8: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light9: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light10: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light11: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light12: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light13: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light14: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light15: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light16: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light17: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light18: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light19: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light20: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light21: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light22: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light23: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light24: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light25: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light26: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light27: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light28: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light29: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light30: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Light31: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Material: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Mesh: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n        Internals: { binding: { groupIndex: -1, bindingIndex: -1 } },\r\n    };\r\n\r\n    protected static _KnownUBOs: { [key: string]: WebGPUBufferDescription } = {\r\n        Scene: { binding: { groupIndex: 0, bindingIndex: 0 } },\r\n\r\n        Light0: { binding: { groupIndex: 1, bindingIndex: 0 } },\r\n        Light1: { binding: { groupIndex: 1, bindingIndex: 1 } },\r\n        Light2: { binding: { groupIndex: 1, bindingIndex: 2 } },\r\n        Light3: { binding: { groupIndex: 1, bindingIndex: 3 } },\r\n        Light4: { binding: { groupIndex: 1, bindingIndex: 4 } },\r\n        Light5: { binding: { groupIndex: 1, bindingIndex: 5 } },\r\n        Light6: { binding: { groupIndex: 1, bindingIndex: 6 } },\r\n        Light7: { binding: { groupIndex: 1, bindingIndex: 7 } },\r\n        Light8: { binding: { groupIndex: 1, bindingIndex: 8 } },\r\n        Light9: { binding: { groupIndex: 1, bindingIndex: 9 } },\r\n        Light10: { binding: { groupIndex: 1, bindingIndex: 10 } },\r\n        Light11: { binding: { groupIndex: 1, bindingIndex: 11 } },\r\n        Light12: { binding: { groupIndex: 1, bindingIndex: 12 } },\r\n        Light13: { binding: { groupIndex: 1, bindingIndex: 13 } },\r\n        Light14: { binding: { groupIndex: 1, bindingIndex: 14 } },\r\n        Light15: { binding: { groupIndex: 1, bindingIndex: 15 } },\r\n        Light16: { binding: { groupIndex: 1, bindingIndex: 16 } },\r\n        Light17: { binding: { groupIndex: 1, bindingIndex: 17 } },\r\n        Light18: { binding: { groupIndex: 1, bindingIndex: 18 } },\r\n        Light19: { binding: { groupIndex: 1, bindingIndex: 19 } },\r\n        Light20: { binding: { groupIndex: 1, bindingIndex: 20 } },\r\n        Light21: { binding: { groupIndex: 1, bindingIndex: 21 } },\r\n        Light22: { binding: { groupIndex: 1, bindingIndex: 22 } },\r\n        Light23: { binding: { groupIndex: 1, bindingIndex: 23 } },\r\n        Light24: { binding: { groupIndex: 1, bindingIndex: 24 } },\r\n        Light25: { binding: { groupIndex: 1, bindingIndex: 25 } },\r\n        Light26: { binding: { groupIndex: 1, bindingIndex: 26 } },\r\n        Light27: { binding: { groupIndex: 1, bindingIndex: 27 } },\r\n        Light28: { binding: { groupIndex: 1, bindingIndex: 28 } },\r\n        Light29: { binding: { groupIndex: 1, bindingIndex: 29 } },\r\n        Light30: { binding: { groupIndex: 1, bindingIndex: 30 } },\r\n        Light31: { binding: { groupIndex: 1, bindingIndex: 31 } },\r\n\r\n        Material: { binding: { groupIndex: 2, bindingIndex: 0 } },\r\n        Mesh: { binding: { groupIndex: 2, bindingIndex: 1 } },\r\n        Internals: { binding: { groupIndex: 2, bindingIndex: 2 } },\r\n    };\r\n\r\n    public static get KnownUBOs() {\r\n        return WebGPUShaderProcessingContext._SimplifiedKnownBindings ? WebGPUShaderProcessingContext._SimplifiedKnownUBOs : WebGPUShaderProcessingContext._KnownUBOs;\r\n    }\r\n\r\n    public shaderLanguage: ShaderLanguage;\r\n\r\n    public uboNextBindingIndex: number;\r\n    public freeGroupIndex: number;\r\n    public freeBindingIndex: number;\r\n\r\n    public availableVaryings: { [key: string]: number };\r\n    public availableAttributes: { [key: string]: number };\r\n    public availableBuffers: { [key: string]: WebGPUBufferDescription };\r\n    public availableTextures: { [key: string]: WebGPUTextureDescription };\r\n    public availableSamplers: { [key: string]: WebGPUSamplerDescription };\r\n\r\n    public leftOverUniforms: { name: string; type: string; length: number }[];\r\n\r\n    public orderedAttributes: string[];\r\n    public bindGroupLayoutEntries: GPUBindGroupLayoutEntry[][];\r\n    public bindGroupLayoutEntryInfo: WebGPUBindGroupLayoutEntryInfo[][];\r\n    public bindGroupEntries: GPUBindGroupEntry[][];\r\n    public bufferNames: string[]; // list of all uniform/storage buffer names used in the shader\r\n    public textureNames: string[]; // list of all texture names used in the shader\r\n    public samplerNames: string[]; // list of all sampler names used in the shader\r\n    public attributeNamesFromEffect: string[];\r\n    public attributeLocationsFromEffect: number[];\r\n\r\n    private _attributeNextLocation: number;\r\n    private _varyingNextLocation: number;\r\n\r\n    constructor(shaderLanguage: ShaderLanguage) {\r\n        this.shaderLanguage = shaderLanguage;\r\n\r\n        this._attributeNextLocation = 0;\r\n        this._varyingNextLocation = 0;\r\n        this.freeGroupIndex = 0;\r\n        this.freeBindingIndex = 0;\r\n\r\n        this.availableVaryings = {};\r\n        this.availableAttributes = {};\r\n        this.availableBuffers = {};\r\n        this.availableTextures = {};\r\n        this.availableSamplers = {};\r\n\r\n        this.orderedAttributes = [];\r\n        this.bindGroupLayoutEntries = [];\r\n        this.bindGroupLayoutEntryInfo = [];\r\n        this.bindGroupEntries = [];\r\n        this.bufferNames = [];\r\n        this.textureNames = [];\r\n        this.samplerNames = [];\r\n\r\n        this.leftOverUniforms = [];\r\n\r\n        this._findStartingGroupBinding();\r\n    }\r\n\r\n    private _findStartingGroupBinding(): void {\r\n        const knownUBOs = WebGPUShaderProcessingContext.KnownUBOs;\r\n\r\n        const groups: number[] = [];\r\n        for (const name in knownUBOs) {\r\n            const binding = knownUBOs[name].binding;\r\n            if (binding.groupIndex === -1) {\r\n                continue;\r\n            }\r\n            if (groups[binding.groupIndex] === undefined) {\r\n                groups[binding.groupIndex] = binding.bindingIndex;\r\n            } else {\r\n                groups[binding.groupIndex] = Math.max(groups[binding.groupIndex], binding.bindingIndex);\r\n            }\r\n        }\r\n\r\n        this.freeGroupIndex = groups.length - 1;\r\n        if (this.freeGroupIndex === 0) {\r\n            this.freeGroupIndex++;\r\n            this.freeBindingIndex = 0;\r\n        } else {\r\n            this.freeBindingIndex = groups[groups.length - 1] + 1;\r\n        }\r\n    }\r\n\r\n    public getAttributeNextLocation(dataType: string, arrayLength: number = 0): number {\r\n        const index = this._attributeNextLocation;\r\n\r\n        this._attributeNextLocation += (_typeToLocationSize[dataType] ?? 1) * (arrayLength || 1);\r\n\r\n        return index;\r\n    }\r\n\r\n    public getVaryingNextLocation(dataType: string, arrayLength: number = 0): number {\r\n        const index = this._varyingNextLocation;\r\n\r\n        this._varyingNextLocation += (_typeToLocationSize[dataType] ?? 1) * (arrayLength || 1);\r\n\r\n        return index;\r\n    }\r\n\r\n    public getNextFreeUBOBinding() {\r\n        return this._getNextFreeBinding(1);\r\n    }\r\n\r\n    private _getNextFreeBinding(bindingCount: number) {\r\n        if (this.freeBindingIndex > _maxBindingsPerGroup - bindingCount) {\r\n            this.freeGroupIndex++;\r\n            this.freeBindingIndex = 0;\r\n        }\r\n\r\n        if (this.freeGroupIndex === _maxGroups) {\r\n            throw \"Too many textures or UBOs have been declared and it is not supported in WebGPU.\";\r\n        }\r\n\r\n        const returnValue = {\r\n            groupIndex: this.freeGroupIndex,\r\n            bindingIndex: this.freeBindingIndex,\r\n        };\r\n\r\n        this.freeBindingIndex += bindingCount;\r\n\r\n        return returnValue;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}